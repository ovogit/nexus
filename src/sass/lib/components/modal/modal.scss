/**********************************
***********************************
      Modal Wrapper Styles
***********************************
**********************************/

.comet-modal-overlay {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: $comet-z-index-page-stack-modal - 1;
}
.comet-modal-overlay--backdrop {
    background: rgba($comet-color-neutral-25, .95);
}
.comet-modal-overlay--takeover {
    background: $comet-background-color-default;

    .comet-modal {
        comet-depth-shadow(resting: 0, active: 0);
    }
}
.comet-modal {
    comet-depth-shadow(resting: 10, active: 10);
    
    background: $comet-background-color-default;
    border-radius: $comet-border-radius;
    color: $comet-text-color-default;
    
    margin: 0 $comet-space-m;
    position: fixed;
    top: 50%;
    transform: translateY(-50%);
    max-height: "calc(100% - (2 * %s))" % $comet-space-m; // Needs to use this interpolation syntax to use variables in CSS Calc function
    max-width: "calc(100% - (2 * %s))" % $comet-space-m; // Needs to use this interpolation syntax to use variables in CSS Calc function
    width: "calc(100% - (2 * %s))" % $comet-space-m; // Needs to use this interpolation syntax to use variables in CSS Calc function
    z-index: $comet-z-index-page-stack-modal;
    
    > div {
        box-shadow: none;
        margin: 0 auto;
    }
    
    @media (min-width: $comet-breakpoints-tablet-narrow-portrait) {
        left: 50%;
        margin: 0 auto;
        transform: translate(-50%, -50%);
        width: auto;
    }
    @media (min-height: 900px + (2 * $comet-space-m)) {
        max-height: 900px;
    }
}

.comet-modal--full-bleed {
    border-radius: 0;
    height: 100%;
    left: 0;
    margin: 0;
    position: fixed;
    top: 0;
    transform: none;
    width: 100%;
}

.comet-modal--no-wrapper {
    background: transparent;
}

/**********************************
***********************************
      Modal Component Styles
***********************************
**********************************/

.comet-modal__inner {
    background: $comet-background-color-default;
    border-radius: $comet-border-radius;
    box-shadow: $comet-shadow-block-default;
    color: $comet-text-color-default;
    display: none;
    margin: $comet-space-inset-default;
    padding: $comet-space-inset-default;
    position: relative;
    width: 100%;
    
    @media (min-width: $comet-breakpoints-tablet-narrow-portrait) {
        margin: 0 auto;
        width: 580px;
        
        &.comet-modal--wide {
            min-width: 580px;
            max-width: 1100px;
            width: 100%;
        }
    }
    
    @media (min-height: 900px + (2 * $comet-space-m)) {
        max-height: 900px;
    }
    
    .comet-modal & {
        display: block;;
    }
}

.comet-modal__header {
}

.comet-modal__content {
    height: 100%;
    max-height: 775px;
    overflow: auto;
    
    .comet-modal--scrollable & {
        box-shadow: inset  0  16px 16px -16px $comet-color-neutral-65, 
                    inset  0 -16px 16px -16px $comet-color-neutral-65;
        margin: 0 (-($comet-space-default));
        padding: $comet-space-inset-default;
    }
    
    p {
        margin: 0;
    }
}

.comet-modal__footer {
        margin-top: $comet-space-default;
}

.comet-modal__button-row {
    display: flex;
    flex-direction: column-reverse;
    justify-content: center;
    align-items: stretch;
    
    @media (min-width: $comet-breakpoints-tablet-narrow-portrait) {
        flex-direction: row;
        align-items: baseline;
        justify-content: flex-start;
    }
}
.comet-modal__button {
    margin: $comet-space-stack-default;

    @media (min-width: $comet-breakpoints-tablet-narrow-portrait) {
        margin: $comet-space-inline-right-default;
        margin-left: auto;
        
        + .comet-modal__button {
            margin: $comet-space-inline-right-default;
        }
    }
}

.comet-modal__button--takeover-close {
    position: absolute;
    top: 16px;
    right: 16px;
    
    margin: 0;
}

.comet-modal--directional {

    @media (min-width: $comet-breakpoints-tablet-narrow-portrait) {
        
        .comet-modal__button {
            margin-left: auto;
        }
        .comet-modal__button--cancel {
            margin-left: 0;
        }       
    }
}